!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("vue"),require("sortablejs")):"function"==typeof define&&define.amd?define(["exports","vue","sortablejs"],o):o((e="undefined"!=typeof globalThis?globalThis:e||self)["SortableJS-Vue3"]={},e.Vue,e.Sortable)}(this,(function(e,o,t){"use strict";const n=o.defineComponent({__name:"Sortable",props:{options:{type:Object,default:null,required:!1},list:{type:[Array,Object],default:[],required:!0},itemKey:{type:[String,Function],default:"",required:!0},tag:{type:String,default:"div",required:!1}},emits:["choose","unchoose","start","end","add","update","sort","remove","filter","move","clone","change"],setup(e,{expose:n,emit:r}){const l=e,s=r,a=o.useAttrs(),i=o.ref(!1),u=o.ref(null),d=o.ref(null),c=o.computed((()=>"string"==typeof l.itemKey?e=>e[l.itemKey]:l.itemKey));return n({containerRef:u,sortable:d,isDragging:i}),o.watch(u,(e=>{e&&(d.value=new t(e,{...l.options,onChoose:e=>s("choose",e),onUnchoose:e=>s("unchoose",e),onStart:e=>{i.value=!0,s("start",e)},onEnd:e=>{setTimeout((()=>{i.value=!1,s("end",e)}))},onAdd:e=>s("add",e),onUpdate:e=>s("update",e),onSort:e=>s("sort",e),onRemove:e=>s("remove",e),onFilter:e=>s("filter",e),onMove:(e,o)=>"onMoveCapture"in a?a.onMoveCapture(e,o):s("move",e,o),onClone:e=>s("clone",e),onChange:e=>s("change",e)}))})),o.watch((()=>l.options),(e=>{if(e&&d?.value)for(const o in e)d.value.option(o,e[o])})),o.onUnmounted((()=>{d.value&&(d.value.destroy(),u.value=null,d.value=null)})),(t,n)=>(o.openBlock(),o.createBlock(o.resolveDynamicComponent(t.$props.tag),{ref_key:"containerRef",ref:u,class:o.normalizeClass(t.$props.class)},{default:o.withCtx((()=>[o.renderSlot(t.$slots,"header"),(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(e.list,((e,n)=>o.renderSlot(t.$slots,"item",{key:c.value(e),element:e,index:n}))),128)),o.renderSlot(t.$slots,"footer")])),_:3},8,["class"]))}});e.Sortable=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}));
