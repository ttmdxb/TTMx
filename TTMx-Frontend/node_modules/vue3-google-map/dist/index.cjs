(function(){"use strict";try{if(typeof document<"u"){var a=document.createElement("style");a.appendChild(document.createTextNode(".mapdiv[data-v-289550ca]{width:100%;height:100%}.advanced-marker-wrapper{display:none}.mapdiv .advanced-marker-wrapper{display:inline-block}.custom-control-wrapper[data-v-ab9120cd]{display:none}.mapdiv .custom-control-wrapper[data-v-ab9120cd]{display:inline-block}.info-window-wrapper[data-v-f0c09f6e]{display:none}.mapdiv .info-window-wrapper[data-v-f0c09f6e]{display:inline-block}.custom-marker-wrapper[data-v-2d2d343a]{display:none}.mapdiv .custom-marker-wrapper[data-v-2d2d343a]{display:inline-block}")),document.head.appendChild(a)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();
"use strict";var Ve=Object.defineProperty;var Ge=(n,e,t)=>e in n?Ve(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ee=(n,e,t)=>(Ge(n,typeof e!="symbol"?e+"":e,t),t);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const l=require("vue"),I=Symbol("map"),j=Symbol("api"),ie=Symbol("marker"),ae=Symbol("markerCluster"),Y=Symbol("CustomMarker"),Re=Symbol("mapTilesLoaded"),$=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];function ze(n,e,t,r){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function u(f){try{d(r.next(f))}catch(c){i(c)}}function a(f){try{d(r.throw(f))}catch(c){i(c)}}function d(f){f.done?o(f.value):s(f.value).then(u,a)}d((r=r.apply(n,e||[])).next())})}function We(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var te,fe;function He(){return fe||(fe=1,te=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!n(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}),te}var Ke=He(),Je=We(Ke);const pe="__googleMapsScriptId";var B;(function(n){n[n.INITIALIZED=0]="INITIALIZED",n[n.LOADING=1]="LOADING",n[n.SUCCESS=2]="SUCCESS",n[n.FAILURE=3]="FAILURE"})(B||(B={}));class x{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:s,id:o=pe,language:i,libraries:u=[],mapIds:a,nonce:d,region:f,retries:c=3,url:m="https://maps.googleapis.com/maps/api/js",version:g}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=s,this.id=o||pe,this.language=i,this.libraries=u,this.mapIds=a,this.nonce=d,this.region=f,this.retries=c,this.url=m,this.version=g,x.instance){if(!Je(this.options,x.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(x.instance.options)}`);return x.instance}x.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?B.FAILURE:this.done?B.SUCCESS:this.loading?B.LOADING:B.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,t)=>{this.loadCallback(r=>{r?t(r.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id)){this.callback();return}const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach(o=>!r[o]&&delete r[o]),!((t=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||t===void 0)&&t.importLibrary||(o=>{let i,u,a,d="The Google Maps JavaScript API",f="google",c="importLibrary",m="__ib__",g=document,p=window;p=p[f]||(p[f]={});const h=p.maps||(p.maps={}),v=new Set,y=new URLSearchParams,E=()=>i||(i=new Promise((w,M)=>ze(this,void 0,void 0,function*(){var C;yield u=g.createElement("script"),u.id=this.id,y.set("libraries",[...v]+"");for(a in o)y.set(a.replace(/[A-Z]/g,O=>"_"+O[0].toLowerCase()),o[a]);y.set("callback",f+".maps."+m),u.src=this.url+"?"+y,h[m]=w,u.onerror=()=>i=M(Error(d+" could not load.")),u.nonce=this.nonce||((C=g.querySelector("script[nonce]"))===null||C===void 0?void 0:C.nonce)||"",g.head.append(u)})));h[c]?console.warn(d+" only loads once. Ignoring:",o):h[c]=(w,...M)=>v.add(w)&&E().then(()=>h[c](w,...M))})(r);const s=this.libraries.map(o=>this.importLibrary(o));s.length||s.push(this.importLibrary("core")),Promise.all(s).then(()=>this.callback(),o=>{const i=new ErrorEvent("error",{error:o});this.loadErrorCallback(i)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}function Ye(n){return class extends n.OverlayView{constructor(r){super();ee(this,"element");ee(this,"opts");const{element:s,...o}=r;this.element=s,this.opts=o,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof n.LatLng?this.opts.position:new n.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;const r=this.element;return r.style.display!=="none"&&r.style.visibility!=="hidden"&&(r.style.opacity===""||Number(r.style.opacity)>.01)}onAdd(){if(!this.element)return;const r=this.getPanes();r&&r.overlayMouseTarget.appendChild(this.element)}draw(){if(!this.element)return;const r=this.getProjection(),s=r==null?void 0:r.fromLatLngToDivPixel(this.getPosition());if(s){this.element.style.position="absolute";let o,i;switch(this.opts.anchorPoint){case"TOP_CENTER":o="-50%",i="-100%";break;case"BOTTOM_CENTER":o="-50%",i="0";break;case"LEFT_CENTER":o="-100%",i="-50%";break;case"RIGHT_CENTER":o="0",i="-50%";break;case"TOP_LEFT":o="-100%",i="-100%";break;case"TOP_RIGHT":o="0",i="-100%";break;case"BOTTOM_LEFT":o="-100%",i="0";break;case"BOTTOM_RIGHT":o="0",i="0";break;default:o="-50%",i="-50%"}const u=s.x+(this.opts.offsetX||0)+"px",a=s.y+(this.opts.offsetY||0)+"px";this.element.style.transform=`translateX(${o}) translateX(${u}) translateY(${i}) translateY(${a})`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}onRemove(){this.element&&this.element.remove()}setOptions(r){const{element:s,...o}=r;this.element=s,this.opts=o,this.draw()}}}let he;const me=["bounds_changed","center_changed","click","contextmenu","dblclick","drag","dragend","dragstart","heading_changed","idle","isfractionalzoomenabled_changed","mapcapabilities_changed","maptypeid_changed","mousemove","mouseout","mouseover","projection_changed","renderingtype_changed","rightclick","tilesloaded","tilt_changed","zoom_changed"],Xe=l.defineComponent({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places","marker"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},colorScheme:{type:String,required:!1},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},isFractionalZoomEnabled:{type:Boolean,required:!1,default:void 0},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1},cameraControl:{type:Boolean,required:!1,default:void 0},cameraControlPosition:{type:String,required:!1},nonce:{type:String,default:""}},emits:me,setup(n,{emit:e}){const t=l.ref(),r=l.ref(!1),s=l.ref(),o=l.ref(),i=l.ref(!1);l.provide(I,s),l.provide(j,o),l.provide(Re,i);const u=()=>{const c={...n};Object.keys(c).forEach(h=>{c[h]===void 0&&delete c[h]});const g=h=>{var v;return h?{position:(v=o.value)==null?void 0:v.ControlPosition[h]}:{}},p={scaleControlOptions:n.scaleControlStyle?{style:n.scaleControlStyle}:{},panControlOptions:g(n.panControlPosition),zoomControlOptions:g(n.zoomControlPosition),rotateControlOptions:g(n.rotateControlPosition),streetViewControlOptions:g(n.streetViewControlPosition),fullscreenControlOptions:g(n.fullscreenControlPosition),cameraControlOptions:g(n.cameraControlPosition),disableDefaultUI:n.disableDefaultUi};return{...c,...p}},a=l.watch([o,s],([c,m])=>{const g=c,p=m;g&&p&&(g.event.addListenerOnce(p,"tilesloaded",()=>{i.value=!0}),setTimeout(a,0))},{immediate:!0}),d=()=>{try{const{apiKey:c,region:m,version:g,language:p,libraries:h,nonce:v}=n;he=new x({apiKey:c,region:m,version:g,language:p,libraries:h,nonce:v})}catch(c){console.error(c)}},f=c=>{o.value=l.markRaw(c.maps),s.value=l.markRaw(new c.maps.Map(t.value,u()));const m=Ye(o.value);o.value[Y]=m,me.forEach(p=>{var h;(h=s.value)==null||h.addListener(p,v=>e(p,v))}),r.value=!0;const g=Object.keys(n).filter(p=>!["apiPromise","apiKey","version","libraries","region","language","center","zoom","nonce"].includes(p)).map(p=>l.toRef(n,p));l.watch([()=>n.center,()=>n.zoom,...g],([p,h],[v,y])=>{var O,_,P;const{center:E,zoom:w,...M}=u();(O=s.value)==null||O.setOptions(M),h!==void 0&&h!==y&&((_=s.value)==null||_.setZoom(h));const C=!v||p.lng!==v.lng||p.lat!==v.lat;p&&C&&((P=s.value)==null||P.panTo(p))})};return l.onMounted(()=>{n.apiPromise&&n.apiPromise instanceof Promise?n.apiPromise.then(f):(d(),he.load().then(f))}),l.onBeforeUnmount(()=>{var c;i.value=!1,s.value&&((c=o.value)==null||c.event.clearInstanceListeners(s.value))}),{mapRef:t,ready:r,map:s,api:o,mapTilesLoaded:i}}});const G=(n,e)=>{const t=n.__vccOpts||n;for(const[r,s]of e)t[r]=s;return t},Qe={ref:"mapRef",class:"mapdiv"};function et(n,e,t,r,s,o){return l.openBlock(),l.createElementBlock("div",null,[l.createElementVNode("div",Qe,null,512),l.renderSlot(n.$slots,"default",l.normalizeProps(l.guardReactiveProps({ready:n.ready,map:n.map,api:n.api,mapTilesLoaded:n.mapTilesLoaded})),void 0,!0)])}const tt=G(Xe,[["render",et],["__scopeId","data-v-289550ca"]]);function rt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nt=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(s=r;s--!==0;)if(!n(e[s],t[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!n(e[i],t[i]))return!1}return!0}return e!==e&&t!==t};const F=rt(nt),ge=["click","drag","dragend","dragstart","gmp-click"],st=l.defineComponent({name:"AdvancedMarker",props:{options:{type:Object,required:!0},pinOptions:{type:Object,required:!1}},emits:ge,setup(n,{emit:e,expose:t,slots:r}){const s=l.ref(),o=l.computed(()=>{var g;return(g=r.content)==null?void 0:g.call(r).some(p=>p.type!==l.Comment)}),i=l.toRef(n,"options"),u=l.toRef(n,"pinOptions"),a=l.ref(),d=l.inject(I,l.ref()),f=l.inject(j,l.ref()),c=l.inject(ae,l.ref()),m=l.computed(()=>!!(c.value&&f.value&&a.value instanceof google.maps.marker.AdvancedMarkerElement));return l.watch([d,i,u,s],async(g,[p,h,v,y])=>{var _,P,de;const E=!F(i.value,h)||!F(u.value,v),w=s.value!==y,M=E||w||d.value!==p;if(!d.value||!f.value||!M||o.value&&!s.value)return;const{AdvancedMarkerElement:C,PinElement:O}=f.value.marker;if(a.value){const{map:X,content:z,...Q}=i.value;Object.assign(a.value,{content:o.value?s.value:u.value?new O(u.value).element:z,...Q}),m.value&&((_=c.value)==null||_.removeMarker(a.value),(P=c.value)==null||P.addMarker(a.value))}else o.value?i.value.content=s.value:u.value&&(i.value.content=new O(u.value).element),a.value=l.markRaw(new C(i.value)),m.value?(de=c.value)==null||de.addMarker(a.value):a.value.map=d.value,ge.forEach(X=>{var z;(z=a.value)==null||z.addListener(X,Q=>e(X,Q))})},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var g,p;a.value&&((g=f.value)==null||g.event.clearInstanceListeners(a.value),m.value?(p=c.value)==null||p.removeMarker(a.value):a.value.map=null)}),l.provide(ie,a),t({marker:a}),{hasCustomSlotContent:o,markerRef:s}}});const ot={key:0,class:"advanced-marker-wrapper"};function it(n,e,t,r,s,o){return l.openBlock(),l.createElementBlock(l.Fragment,null,[n.hasCustomSlotContent?(l.openBlock(),l.createElementBlock("div",ot,[l.createElementVNode("div",l.mergeProps({ref:"markerRef"},n.$attrs),[l.renderSlot(n.$slots,"content")],16)])):l.createCommentVNode("",!0),l.renderSlot(n.$slots,"default")],64)}const at=G(st,[["render",it]]),ve=n=>n==="Marker",ye=n=>n===Y,N=(n,e,t,r)=>{const s=l.ref(),o=l.inject(I,l.ref()),i=l.inject(j,l.ref()),u=l.inject(ae,l.ref()),a=l.computed(()=>!!(u.value&&i.value&&(s.value instanceof i.value.Marker||s.value instanceof i.value[Y])));return l.watch([o,t],(d,[f,c])=>{var g,p,h;const m=!F(t.value,c)||o.value!==f;if(!(!o.value||!i.value||!m))if(s.value)s.value.setOptions(t.value),a.value&&((g=u.value)==null||g.removeMarker(s.value),(p=u.value)==null||p.addMarker(s.value));else{if(ve(n))s.value=l.markRaw(new i.value[n](t.value));else if(ye(n)){const v=t.value;v.element&&(s.value=l.markRaw(new i.value[n](v)))}else s.value=l.markRaw(new i.value[n]({...t.value,map:o.value}));s.value&&(a.value?(h=u.value)==null||h.addMarker(s.value):(ve(n)||ye(n))&&s.value.setMap(o.value)),e.forEach(v=>{var y;(y=s.value)==null||y.addListener(v,E=>r(v,E))})}},{immediate:!0,flush:"post"}),l.onBeforeUnmount(()=>{var d,f;s.value&&((d=i.value)==null||d.event.clearInstanceListeners(s.value),a.value?(f=u.value)==null||f.removeMarker(s.value):s.value.setMap(null))}),s},we=["animation_changed","click","dblclick","rightclick","dragstart","dragend","drag","mouseover","mousedown","mouseout","mouseup","draggable_changed","clickable_changed","contextmenu","cursor_changed","flat_changed","zindex_changed","icon_changed","position_changed","shape_changed","title_changed","visible_changed"],lt=l.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:we,setup(n,{emit:e,expose:t,slots:r}){const s=l.toRef(n,"options"),o=N("Marker",we,s,e);return l.provide(ie,o),t({marker:o}),()=>{var i;return(i=r.default)==null?void 0:i.call(r)}}}),ut=l.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:$,setup(n,{emit:e}){const t=l.toRef(n,"options");return{polyline:N("Polyline",$,t,e)}},render:()=>null}),ct=l.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:$,setup(n,{emit:e}){const t=l.toRef(n,"options");return{polygon:N("Polygon",$,t,e)}},render:()=>null}),Ee=$.concat(["bounds_changed"]),dt=l.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:Ee,setup(n,{emit:e}){const t=l.toRef(n,"options");return{rectangle:N("Rectangle",Ee,t,e)}},render:()=>null}),ke=$.concat(["center_changed","radius_changed"]),ft=l.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:ke,setup(n,{emit:e}){const t=l.toRef(n,"options");return{circle:N("Circle",ke,t,e)}},render:()=>null}),pt=l.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(n,{emit:e}){const t=l.ref(null),r=l.inject(I,l.ref()),s=l.inject(j,l.ref()),o=l.inject(Re,l.ref(!1)),i=l.watch([o,s,t],([d,f,c])=>{f&&d&&c&&(u(n.position),e("content:loaded"),setTimeout(i,0))},{immediate:!0}),u=d=>{if(r.value&&s.value&&t.value){const f=s.value.ControlPosition[d];t.value.index=n.index,r.value.controls[f].push(t.value)}},a=d=>{if(r.value&&s.value){let f=null;const c=s.value.ControlPosition[d];r.value.controls[c].forEach((m,g)=>{m===t.value&&(f=g)}),f!==null&&r.value.controls[c].removeAt(f)}};return l.onBeforeUnmount(()=>a(n.position)),l.watch(()=>n.position,(d,f)=>{a(f),u(d)}),l.watch(()=>n.index,d=>{t.value&&(t.value.index=d)}),{controlRef:t}}});const ht={ref:"controlRef",class:"custom-control-wrapper"};function mt(n,e,t,r,s,o){return l.openBlock(),l.createElementBlock("div",ht,[l.renderSlot(n.$slots,"default",{},void 0,!0)],512)}const gt=G(pt,[["render",mt],["__scopeId","data-v-ab9120cd"]]),_e=["closeclick","content_changed","domready","position_changed","visible","zindex_changed"],vt=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})},modelValue:{type:Boolean}},emits:[..._e,"update:modelValue"],setup(n,{slots:e,emit:t,expose:r}){const s=l.ref(),o=l.ref(),i=l.inject(I,l.ref()),u=l.inject(j,l.ref()),a=l.inject(ie,l.ref());let d,f=n.modelValue;const c=l.computed(()=>{var h;return(h=e.default)==null?void 0:h.call(e).some(v=>v.type!==l.Comment)}),m=h=>{f=h,t("update:modelValue",h)},g=h=>{s.value&&(s.value.open({map:i.value,anchor:a.value,...h}),m(!0))},p=()=>{s.value&&(s.value.close(),m(!1))};return l.onMounted(()=>{l.watch([i,()=>n.options],([h,v],[y,E])=>{var M;const w=!F(v,E)||i.value!==y;i.value&&u.value&&w&&(s.value?(s.value.setOptions({...v,content:c.value?o.value:v.content}),a.value||g()):(s.value=l.markRaw(new u.value.InfoWindow({...v,content:c.value?o.value:v.content})),a.value&&(d=a.value.addListener("click",()=>{g()})),(!a.value||f)&&g(),_e.forEach(C=>{var O;(O=s.value)==null||O.addListener(C,_=>t(C,_))}),(M=s.value)==null||M.addListener("closeclick",()=>m(!1))))},{immediate:!0}),l.watch(()=>n.modelValue,h=>{h!==f&&(h?g():p())})}),l.onBeforeUnmount(()=>{var h;d&&d.remove(),s.value&&((h=u.value)==null||h.event.clearInstanceListeners(s.value),p())}),r({infoWindow:s,open:g,close:p}),{infoWindow:s,infoWindowRef:o,hasSlotContent:c,open:g,close:p}}});const yt={key:0,class:"info-window-wrapper"};function wt(n,e,t,r,s,o){return n.hasSlotContent?(l.openBlock(),l.createElementBlock("div",yt,[l.createElementVNode("div",l.mergeProps({ref:"infoWindowRef"},n.$attrs),[l.renderSlot(n.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("",!0)}const Et=G(vt,[["render",wt],["__scopeId","data-v-f0c09f6e"]]);var kt=Object.getOwnPropertyNames,_t=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty;function Ce(n,e){return function(r,s,o){return n(r,s,o)&&e(r,s,o)}}function W(n){return function(t,r,s){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,s);var o=s.cache,i=o.get(t),u=o.get(r);if(i&&u)return i===r&&u===t;o.set(t,r),o.set(r,t);var a=n(t,r,s);return o.delete(t),o.delete(r),a}}function Me(n){return kt(n).concat(_t(n))}var Mt=Object.hasOwn||function(n,e){return Ct.call(n,e)};function R(n,e){return n===e||!n&&!e&&n!==n&&e!==e}var Ot="__v",bt="__o",Pt="_owner",Oe=Object.getOwnPropertyDescriptor,be=Object.keys;function St(n,e,t){var r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function qt(n,e){return R(n.getTime(),e.getTime())}function At(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function Tt(n,e){return n===e}function Pe(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=n.entries(),i,u,a=0;(i=o.next())&&!i.done;){for(var d=e.entries(),f=!1,c=0;(u=d.next())&&!u.done;){if(s[c]){c++;continue}var m=i.value,g=u.value;if(t.equals(m[0],g[0],a,c,n,e,t)&&t.equals(m[1],g[1],m[0],g[0],n,e,t)){f=s[c]=!0;break}c++}if(!f)return!1;a++}return!0}var Lt=R;function xt(n,e,t){var r=be(n),s=r.length;if(be(e).length!==s)return!1;for(;s-- >0;)if(!Be(n,e,t,r[s]))return!1;return!0}function D(n,e,t){var r=Me(n),s=r.length;if(Me(e).length!==s)return!1;for(var o,i,u;s-- >0;)if(o=r[s],!Be(n,e,t,o)||(i=Oe(n,o),u=Oe(e,o),(i||u)&&(!i||!u||i.configurable!==u.configurable||i.enumerable!==u.enumerable||i.writable!==u.writable)))return!1;return!0}function It(n,e){return R(n.valueOf(),e.valueOf())}function jt(n,e){return n.source===e.source&&n.flags===e.flags}function Se(n,e,t){var r=n.size;if(r!==e.size)return!1;if(!r)return!0;for(var s=new Array(r),o=n.values(),i,u;(i=o.next())&&!i.done;){for(var a=e.values(),d=!1,f=0;(u=a.next())&&!u.done;){if(!s[f]&&t.equals(i.value,u.value,i.value,u.value,n,e,t)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function Rt(n,e){var t=n.length;if(e.length!==t)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function Bt(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function Be(n,e,t,r){return(r===Pt||r===bt||r===Ot)&&(n.$$typeof||e.$$typeof)?!0:Mt(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}var $t="[object Arguments]",Nt="[object Boolean]",Dt="[object Date]",Ut="[object Error]",Zt="[object Map]",Ft="[object Number]",Vt="[object Object]",Gt="[object RegExp]",zt="[object Set]",Wt="[object String]",Ht="[object URL]",Kt=Array.isArray,qe=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ae=Object.assign,Jt=Object.prototype.toString.call.bind(Object.prototype.toString);function Yt(n){var e=n.areArraysEqual,t=n.areDatesEqual,r=n.areErrorsEqual,s=n.areFunctionsEqual,o=n.areMapsEqual,i=n.areNumbersEqual,u=n.areObjectsEqual,a=n.arePrimitiveWrappersEqual,d=n.areRegExpsEqual,f=n.areSetsEqual,c=n.areTypedArraysEqual,m=n.areUrlsEqual;return function(p,h,v){if(p===h)return!0;if(p==null||h==null)return!1;var y=typeof p;if(y!==typeof h)return!1;if(y!=="object")return y==="number"?i(p,h,v):y==="function"?s(p,h,v):!1;var E=p.constructor;if(E!==h.constructor)return!1;if(E===Object)return u(p,h,v);if(Kt(p))return e(p,h,v);if(qe!=null&&qe(p))return c(p,h,v);if(E===Date)return t(p,h,v);if(E===RegExp)return d(p,h,v);if(E===Map)return o(p,h,v);if(E===Set)return f(p,h,v);var w=Jt(p);return w===Dt?t(p,h,v):w===Gt?d(p,h,v):w===Zt?o(p,h,v):w===zt?f(p,h,v):w===Vt?typeof p.then!="function"&&typeof h.then!="function"&&u(p,h,v):w===Ht?m(p,h,v):w===Ut?r(p,h,v):w===$t?u(p,h,v):w===Nt||w===Ft||w===Wt?a(p,h,v):!1}}function Xt(n){var e=n.circular,t=n.createCustomConfig,r=n.strict,s={areArraysEqual:r?D:St,areDatesEqual:qt,areErrorsEqual:At,areFunctionsEqual:Tt,areMapsEqual:r?Ce(Pe,D):Pe,areNumbersEqual:Lt,areObjectsEqual:r?D:xt,arePrimitiveWrappersEqual:It,areRegExpsEqual:jt,areSetsEqual:r?Ce(Se,D):Se,areTypedArraysEqual:r?D:Rt,areUrlsEqual:Bt};if(t&&(s=Ae({},s,t(s))),e){var o=W(s.areArraysEqual),i=W(s.areMapsEqual),u=W(s.areObjectsEqual),a=W(s.areSetsEqual);s=Ae({},s,{areArraysEqual:o,areMapsEqual:i,areObjectsEqual:u,areSetsEqual:a})}return s}function Qt(n){return function(e,t,r,s,o,i,u){return n(e,t,u)}}function er(n){var e=n.circular,t=n.comparator,r=n.createState,s=n.equals,o=n.strict;if(r)return function(a,d){var f=r(),c=f.cache,m=c===void 0?e?new WeakMap:void 0:c,g=f.meta;return t(a,d,{cache:m,equals:s,meta:g,strict:o})};if(e)return function(a,d){return t(a,d,{cache:new WeakMap,equals:s,meta:void 0,strict:o})};var i={cache:void 0,equals:s,meta:void 0,strict:o};return function(a,d){return t(a,d,i)}}var J=T();T({strict:!0});T({circular:!0});T({circular:!0,strict:!0});T({createInternalComparator:function(){return R}});T({strict:!0,createInternalComparator:function(){return R}});T({circular:!0,createInternalComparator:function(){return R}});T({circular:!0,createInternalComparator:function(){return R},strict:!0});function T(n){n===void 0&&(n={});var e=n.circular,t=e===void 0?!1:e,r=n.createInternalComparator,s=n.createState,o=n.strict,i=o===void 0?!1:o,u=Xt(n),a=Yt(u),d=r?r(a):Qt(a);return er({circular:t,comparator:a,createState:s,equals:d,strict:i})}const Te=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],re=1,U=8;class le{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");const s=r>>4;if(s!==re)throw new Error(`Got v${s} data when expected v${re}.`);const o=Te[r&15];if(!o)throw new Error("Unrecognized array type.");const[i]=new Uint16Array(e,2,1),[u]=new Uint32Array(e,4,1);return new le(u,i,o,e)}constructor(e,t=64,r=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const o=Te.indexOf(this.ArrayType),i=e*2*this.ArrayType.BYTES_PER_ELEMENT,u=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-u%8)%8;if(o<0)throw new Error(`Unexpected typed array class: ${r}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,U,e),this.coords=new this.ArrayType(this.data,U+u+a,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(U+i+u+a),this.ids=new this.IndexArrayType(this.data,U,e),this.coords=new this.ArrayType(this.data,U+u+a,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(re<<4)+o]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return oe(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:o,coords:i,nodeSize:u}=this,a=[0,o.length-1,0],d=[];for(;a.length;){const f=a.pop()||0,c=a.pop()||0,m=a.pop()||0;if(c-m<=u){for(let v=m;v<=c;v++){const y=i[2*v],E=i[2*v+1];y>=e&&y<=r&&E>=t&&E<=s&&d.push(o[v])}continue}const g=m+c>>1,p=i[2*g],h=i[2*g+1];p>=e&&p<=r&&h>=t&&h<=s&&d.push(o[g]),(f===0?e<=p:t<=h)&&(a.push(m),a.push(g-1),a.push(1-f)),(f===0?r>=p:s>=h)&&(a.push(g+1),a.push(c),a.push(1-f))}return d}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:o,nodeSize:i}=this,u=[0,s.length-1,0],a=[],d=r*r;for(;u.length;){const f=u.pop()||0,c=u.pop()||0,m=u.pop()||0;if(c-m<=i){for(let v=m;v<=c;v++)Le(o[2*v],o[2*v+1],e,t)<=d&&a.push(s[v]);continue}const g=m+c>>1,p=o[2*g],h=o[2*g+1];Le(p,h,e,t)<=d&&a.push(s[g]),(f===0?e-r<=p:t-r<=h)&&(u.push(m),u.push(g-1),u.push(1-f)),(f===0?e+r>=p:t+r>=h)&&(u.push(g+1),u.push(c),u.push(1-f))}return a}}function oe(n,e,t,r,s,o){if(s-r<=t)return;const i=r+s>>1;$e(n,e,i,r,s,o),oe(n,e,t,r,i-1,1-o),oe(n,e,t,i+1,s,1-o)}function $e(n,e,t,r,s,o){for(;s>r;){if(s-r>600){const d=s-r+1,f=t-r+1,c=Math.log(d),m=.5*Math.exp(2*c/3),g=.5*Math.sqrt(c*m*(d-m)/d)*(f-d/2<0?-1:1),p=Math.max(r,Math.floor(t-f*m/d+g)),h=Math.min(s,Math.floor(t+(d-f)*m/d+g));$e(n,e,t,p,h,o)}const i=e[2*t+o];let u=r,a=s;for(Z(n,e,r,t),e[2*s+o]>i&&Z(n,e,r,s);u<a;){for(Z(n,e,u,a),u++,a--;e[2*u+o]<i;)u++;for(;e[2*a+o]>i;)a--}e[2*r+o]===i?Z(n,e,r,a):(a++,Z(n,e,a,s)),a<=t&&(r=a+1),t<=a&&(s=a-1)}}function Z(n,e,t,r){ne(n,t,r),ne(e,2*t,2*r),ne(e,2*t+1,2*r+1)}function ne(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function Le(n,e,t,r){const s=n-t,o=e-r;return s*s+o*o}const tr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:n=>n},xe=Math.fround||(n=>e=>(n[0]=+e,n[0]))(new Float32Array(1)),L=2,q=3,se=4,S=5,Ne=6;class De{constructor(e){this.options=Object.assign(Object.create(tr),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:r,maxZoom:s}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;const i=[];for(let a=0;a<e.length;a++){const d=e[a];if(!d.geometry)continue;const[f,c]=d.geometry.coordinates,m=xe(H(f)),g=xe(K(c));i.push(m,g,1/0,a,-1,1),this.options.reduce&&i.push(0)}let u=this.trees[s+1]=this._createTree(i);t&&console.timeEnd(o);for(let a=s;a>=r;a--){const d=+Date.now();u=this.trees[a]=this._createTree(this._cluster(u,a)),t&&console.log("z%d: %d clusters in %dms",a,u.numItems,+Date.now()-d)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let o=e[2]===180?180:((e[2]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,o=180;else if(r>o){const c=this.getClusters([r,s,180,i],t),m=this.getClusters([-180,s,o,i],t);return c.concat(m)}const u=this.trees[this._limitZoom(t)],a=u.range(H(r),K(i),H(o),K(s)),d=u.data,f=[];for(const c of a){const m=this.stride*c;f.push(d[m+S]>1?Ie(d,m,this.clusterProps):this.points[d[m+q]])}return f}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",o=this.trees[r];if(!o)throw new Error(s);const i=o.data;if(t*this.stride>=i.length)throw new Error(s);const u=this.options.radius/(this.options.extent*Math.pow(2,r-1)),a=i[t*this.stride],d=i[t*this.stride+1],f=o.within(a,d,u),c=[];for(const m of f){const g=m*this.stride;i[g+se]===e&&c.push(i[g+S]>1?Ie(i,g,this.clusterProps):this.points[i[g+q]])}if(c.length===0)throw new Error(s);return c}getLeaves(e,t,r){t=t||10,r=r||0;const s=[];return this._appendLeaves(s,e,t,r,0),s}getTile(e,t,r){const s=this.trees[this._limitZoom(e)],o=Math.pow(2,e),{extent:i,radius:u}=this.options,a=u/i,d=(r-a)/o,f=(r+1+a)/o,c={features:[]};return this._addTileFeatures(s.range((t-a)/o,d,(t+1+a)/o,f),s.data,t,r,o,c),t===0&&this._addTileFeatures(s.range(1-a/o,d,1,f),s.data,o,r,o,c),t===o-1&&this._addTileFeatures(s.range(0,d,a/o,f),s.data,-1,r,o,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,s,o){const i=this.getChildren(t);for(const u of i){const a=u.properties;if(a&&a.cluster?o+a.point_count<=s?o+=a.point_count:o=this._appendLeaves(e,a.cluster_id,r,s,o):o<s?o++:e.push(u),e.length===r)break}return o}_createTree(e){const t=new le(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,s,o,i){for(const u of e){const a=u*this.stride,d=t[a+S]>1;let f,c,m;if(d)f=Ue(t,a,this.clusterProps),c=t[a],m=t[a+1];else{const h=this.points[t[a+q]];f=h.properties;const[v,y]=h.geometry.coordinates;c=H(v),m=K(y)}const g={type:1,geometry:[[Math.round(this.options.extent*(c*o-r)),Math.round(this.options.extent*(m*o-s))]],tags:f};let p;d||this.options.generateId?p=t[a+q]:p=this.points[t[a+q]].id,p!==void 0&&(g.id=p),i.features.push(g)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:r,extent:s,reduce:o,minPoints:i}=this.options,u=r/(s*Math.pow(2,t)),a=e.data,d=[],f=this.stride;for(let c=0;c<a.length;c+=f){if(a[c+L]<=t)continue;a[c+L]=t;const m=a[c],g=a[c+1],p=e.within(a[c],a[c+1],u),h=a[c+S];let v=h;for(const y of p){const E=y*f;a[E+L]>t&&(v+=a[E+S])}if(v>h&&v>=i){let y=m*h,E=g*h,w,M=-1;const C=((c/f|0)<<5)+(t+1)+this.points.length;for(const O of p){const _=O*f;if(a[_+L]<=t)continue;a[_+L]=t;const P=a[_+S];y+=a[_]*P,E+=a[_+1]*P,a[_+se]=C,o&&(w||(w=this._map(a,c,!0),M=this.clusterProps.length,this.clusterProps.push(w)),o(w,this._map(a,_)))}a[c+se]=C,d.push(y/v,E/v,1/0,C,-1,v),o&&d.push(M)}else{for(let y=0;y<f;y++)d.push(a[c+y]);if(v>1)for(const y of p){const E=y*f;if(!(a[E+L]<=t)){a[E+L]=t;for(let w=0;w<f;w++)d.push(a[E+w])}}}}return d}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+S]>1){const i=this.clusterProps[e[t+Ne]];return r?Object.assign({},i):i}const s=this.points[e[t+q]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function Ie(n,e,t){return{type:"Feature",id:n[e+q],properties:Ue(n,e,t),geometry:{type:"Point",coordinates:[rr(n[e]),nr(n[e+1])]}}}function Ue(n,e,t){const r=n[e+S],s=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,o=n[e+Ne],i=o===-1?{}:Object.assign({},t[o]);return Object.assign(i,{cluster:!0,cluster_id:n[e+q],point_count:r,point_count_abbreviated:s})}function H(n){return n/360+.5}function K(n){const e=Math.sin(n*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function rr(n){return(n-.5)*360}function nr(n){const e=(180-n*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function ue(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}class k{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(Number.isFinite(e.position.lat)&&Number.isFinite(e.position.lng))return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class V{constructor({markers:e,position:t}){this.markers=[],e&&(this.markers=e),t&&(t instanceof google.maps.LatLng?this._position=t:this._position=new google.maps.LatLng(t))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(k.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>k.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(k.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}function b(n,e="assertion failed"){if(n==null)throw Error(e)}const sr=(n,e,t,r)=>{const s=n.getBounds();b(s);const o=Ze(s,e,r);return t.filter(i=>o.contains(k.getPosition(i)))},Ze=(n,e,t)=>{const{northEast:r,southWest:s}=ir(n,e),o=ar({northEast:r,southWest:s},t);return lr(o,e)},or=(n,e,t)=>{const r=Ze(n,e,t),s=r.getNorthEast(),o=r.getSouthWest();return[o.lng(),o.lat(),s.lng(),s.lat()]},ir=(n,e)=>{const t=e.fromLatLngToDivPixel(n.getNorthEast()),r=e.fromLatLngToDivPixel(n.getSouthWest());return b(t),b(r),{northEast:t,southWest:r}},ar=({northEast:n,southWest:e},t)=>(n.x+=t,n.y-=t,e.x-=t,e.y+=t,{northEast:n,southWest:e}),lr=({northEast:n,southWest:e},t)=>{const r=t.fromDivPixelToLatLng(e),s=t.fromDivPixelToLatLng(n);return new google.maps.LatLngBounds(r,s)};class Fe{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return cr(e)}}class ur extends Fe{constructor(e){var{viewportPadding:t=60}=e,r=ue(e,["viewportPadding"]);super(r),this.viewportPadding=60,this.viewportPadding=t}calculate({markers:e,map:t,mapCanvasProjection:r}){const s=t.getZoom();return b(s),s>=this.maxZoom?{clusters:this.noop({markers:e}),changed:!1}:{clusters:this.cluster({markers:sr(t,r,e,this.viewportPadding),map:t,mapCanvasProjection:r})}}}const cr=n=>n.map(t=>new V({position:k.getPosition(t),markers:[t]}));class dr extends Fe{constructor(e){var{maxZoom:t,radius:r=60}=e,s=ue(e,["maxZoom","radius"]);super({maxZoom:t}),this.markers=[],this.clusters=[],this.state={zoom:-1},this.superCluster=new De(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){let t=!1,r=e.map.getZoom();b(r),r=Math.round(r);const s={zoom:r};if(!J(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const o=this.markers.map(i=>{const u=k.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[u.lng(),u.lat()]},properties:{marker:i}}});this.superCluster.load(o)}return t||(this.state.zoom<=this.maxZoom||s.zoom<=this.maxZoom)&&(t=!J(this.state,s)),this.state=s,e.markers.length===0?(this.clusters=[],{clusters:this.clusters,changed:t}):(t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t})}cluster({map:e}){const t=e.getZoom();return b(t),this.superCluster.getClusters([-180,-90,180,90],Math.round(t)).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new V({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:t,lng:e}});const s=r.marker;return new V({markers:[s],position:k.getPosition(s)})}}class fr extends ur{constructor(e){var{maxZoom:t,radius:r=60,viewportPadding:s=60}=e,o=ue(e,["maxZoom","radius","viewportPadding"]);super({maxZoom:t,viewportPadding:s}),this.markers=[],this.clusters=[],this.superCluster=new De(Object.assign({maxZoom:this.maxZoom,radius:r},o)),this.state={zoom:-1,view:[0,0,0,0]}}calculate(e){const t=this.getViewportState(e);let r=!J(this.state,t);if(!J(e.markers,this.markers)){r=!0,this.markers=[...e.markers];const s=this.markers.map(o=>{const i=k.getPosition(o);return{type:"Feature",geometry:{type:"Point",coordinates:[i.lng(),i.lat()]},properties:{marker:o}}});this.superCluster.load(s)}return r&&(this.clusters=this.cluster(e),this.state=t),{clusters:this.clusters,changed:r}}cluster(e){const t=this.getViewportState(e);return this.superCluster.getClusters(t.view,t.zoom).map(r=>this.transformCluster(r))}transformCluster({geometry:{coordinates:[e,t]},properties:r}){if(r.cluster)return new V({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:t,lng:e}});const s=r.marker;return new V({markers:[s],position:k.getPosition(s)})}getViewportState(e){const t=e.map.getZoom(),r=e.map.getBounds();return b(t),b(r),{zoom:Math.round(t),view:or(r,e.mapCanvasProjection,this.viewportPadding)}}}class pr{constructor(e,t){this.markers={sum:e.length};const r=t.map(o=>o.count),s=r.reduce((o,i)=>o+i,0);this.clusters={count:t.length,markers:{mean:s/t.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class hr{render({count:e,position:t},r,s){const i=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,u=`Cluster of ${e} markers`,a=Number(google.maps.Marker.MAX_ZINDEX)+e;if(k.isAdvancedMarkerAvailable(s)){const c=new DOMParser().parseFromString(i,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");const m={map:s,position:t,zIndex:a,title:u,content:c};return new google.maps.marker.AdvancedMarkerElement(m)}const d={position:t,zIndex:a,title:u,icon:{url:`data:image/svg+xml;base64,${btoa(i)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(d)}}function mr(n,e){for(let t in e.prototype)n.prototype[t]=e.prototype[t]}class ce{constructor(){mr(ce,google.maps.OverlayView)}}var A;(function(n){n.CLUSTERING_BEGIN="clusteringbegin",n.CLUSTERING_END="clusteringend",n.CLUSTER_CLICK="click",n.GMP_CLICK="gmp-click"})(A||(A={}));const gr=(n,e,t)=>{e.bounds&&t.fitBounds(e.bounds)};class vr extends ce{constructor({map:e,markers:t=[],algorithmOptions:r={},algorithm:s=new dr(r),renderer:o=new hr,onClusterClick:i=gr}){super(),this.map=null,this.idleListener=null,this.markers=[...t],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=i,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){const r=this.markers.indexOf(e);return r===-1?!1:(k.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){let r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,A.CLUSTERING_BEGIN,this);const{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const s=new Set;for(const i of t)i.markers.length==1&&s.add(i.markers[0]);const o=[];for(const i of this.clusters)i.marker!=null&&(i.markers.length==1?s.has(i.marker)||k.setMap(i.marker,null):o.push(i.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>o.forEach(i=>k.setMap(i,null)))}google.maps.event.trigger(this,A.CLUSTERING_END,this)}}onAdd(){const e=this.getMap();b(e),this.idleListener=e.addListener("idle",this.render.bind(this)),this.render()}onRemove(){this.idleListener&&google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>k.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new pr(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{if(r.markers.length===1)r.marker=r.markers[0];else if(r.marker=this.renderer.render(r,e,t),r.markers.forEach(s=>k.setMap(s,null)),this.onClusterClick){const s=k.isAdvancedMarker(r.marker)?A.GMP_CLICK:A.CLUSTER_CLICK;r.marker.addListener(s,o=>{google.maps.event.trigger(this,A.CLUSTER_CLICK,r),this.onClusterClick(o,r,t)})}k.setMap(r.marker,t)})}}const je=Object.values(A),yr=l.defineComponent({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:je,setup(n,{emit:e,expose:t,slots:r}){const s=l.ref(),o=l.inject(I,l.ref()),i=l.inject(j,l.ref());return l.provide(ae,s),l.watch(o,()=>{o.value&&(s.value=l.markRaw(new vr({map:o.value,algorithm:new fr(n.options.algorithmOptions??{}),...n.options})),je.forEach(u=>{var a;(a=s.value)==null||a.addListener(u,d=>e(u,d))}))},{immediate:!0}),l.onBeforeUnmount(()=>{var u;s.value&&((u=i.value)==null||u.event.clearInstanceListeners(s.value),s.value.clearMarkers(),s.value.setMap(null))}),t({markerCluster:s}),()=>{var u;return(u=r.default)==null?void 0:u.call(r)}}}),wr=l.defineComponent({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(n,{slots:e,emit:t,expose:r}){const s=l.ref(),o=l.computed(()=>{var a;return(a=e.default)==null?void 0:a.call(e).some(d=>d.type!==l.Comment)}),i=l.computed(()=>({...n.options,element:s.value})),u=N(Y,[],i,t);return r({customMarker:u}),{customMarkerRef:s,customMarker:u,hasSlotContent:o}}});const Er={key:0,class:"custom-marker-wrapper"};function kr(n,e,t,r,s,o){return n.hasSlotContent?(l.openBlock(),l.createElementBlock("div",Er,[l.createElementVNode("div",l.mergeProps({ref:"customMarkerRef",style:{cursor:n.$attrs.onClick?"pointer":void 0}},n.$attrs),[l.renderSlot(n.$slots,"default",{},void 0,!0)],16)])):l.createCommentVNode("",!0)}const _r=G(wr,[["render",kr],["__scopeId","data-v-2d2d343a"]]),Cr=l.defineComponent({name:"HeatmapLayer",props:{options:{type:Object,default:()=>({})}},setup(n){const e=l.ref(),t=l.inject(I,l.ref()),r=l.inject(j,l.ref());return l.watch([t,()=>n.options],([s,o],[i,u])=>{const a=!F(o,u)||t.value!==i;if(t.value&&r.value&&a){let d;if(o.data&&!(o.data instanceof r.value.MVCArray)){const f=r.value.LatLng,c=o.data.map(m=>m instanceof f||"location"in m&&(m.location instanceof f||m.location===null)?m:"location"in m?{...m,location:new f(m.location)}:new f(m));d={...o,data:c}}else d=o;e.value?e.value.setOptions(d):e.value=l.markRaw(new r.value.visualization.HeatmapLayer({...d,map:t.value}))}},{immediate:!0}),l.onBeforeUnmount(()=>{e.value&&e.value.setMap(null)}),{heatmapLayer:e}},render:()=>null});exports.AdvancedMarker=at;exports.Circle=ft;exports.CustomControl=gt;exports.CustomMarker=_r;exports.GoogleMap=tt;exports.HeatmapLayer=Cr;exports.InfoWindow=Et;exports.Marker=lt;exports.MarkerCluster=yr;exports.Polygon=ct;exports.Polyline=ut;exports.Rectangle=dt;
